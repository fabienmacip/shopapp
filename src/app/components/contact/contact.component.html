<app-page-title title="Contact Us"></app-page-title>
<div class="contact-container content">
  <form action="" method="post" [formGroup]="contactForm">
    <h2>Contact Form</h2>
    <p>Your email address will not be published. Required fields are marked *</p>
    <div class="form-line flex gap-10">
      <input type="text" name="firstname" id="firstname" class="flex-1"
      placeholder="First Name"
      [formControl]="firstname"
      >
      <input type="email" name="email" id="email" class="flex-1"
      placeholder="Email"
      [formControl]="email"
      >
    </div>
    <!-- Msg erreur liés aux validateurs -->
    <div class="error" *ngIf="firstname.dirty && !firstname.valid" >
      <p *ngIf="firstname.hasError('required')">
        The firstname is required.
      </p>
      <p *ngIf="firstname.hasError('minlength')">
        The firstname must be at least 3 characters.
      </p>
    </div>
    <div class="error" *ngIf="email.dirty && !email.valid" >
      <p *ngIf="email.hasError('required')">
        Email is required.
      </p>
      <p *ngIf="email.hasError('email')">
        Email is not a valid email.
      </p>
    </div>
    <!-- --- FIN msg erreur --- -->
    <div class="form-line flex gap-10">
      <input type="tel" name="phone" id="phone" class="flex-1"
      placeholder="Phone"
      [formControl]="phone"
      >
      <input type="text" name="subject" id="subject" class="flex-1"
      placeholder="Subject"
      [formControl]="subject"
      >

    </div>
    <!-- Msg erreur liés aux validateurs -->
    <div class="error" *ngIf="phone.dirty && !phone.valid" >
      <p *ngIf="phone.hasError('required')">
        The phone is required.
      </p>
      <p *ngIf="phone.hasError('minlength')">
        The phone must be at least 5 characters.
      </p>
    </div>
    <div class="error" *ngIf="subject.dirty && !subject.valid" >
      <p *ngIf="subject.hasError('required')">
        Subject is required.
      </p>
      <p *ngIf="subject.hasError('minlength')">
        Subject must be at least 10 characters.
      </p>
    </div>
    <!-- --- FIN msg erreur --- -->

    <div class="form-textarea flex">
      <textarea name="message" id="message" cols="30" rows="10" class="flex-1"
      placeholder="Message"
      [formControl]="message"
      ></textarea>
    </div>

    <!-- Msg erreur liés aux validateurs -->
    <div class="error" *ngIf="message.dirty && !message.valid" >
      <p *ngIf="message.hasError('required')">
        Message is required.
      </p>
      <p *ngIf="message.hasError('minlength')">
        Message must be at least 20 characters.
      </p>
    </div>
    <!-- --- FIN msg erreur --- -->


    <div class="form-button">
      <button class="btn" [disabled]="!contactForm.valid"
      (click)="handleSubmit()"
      >Send message</button>
    </div>
  </form>
</div>
